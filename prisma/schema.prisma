generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider  = "postgresql"
  url       = env("DATABASE_URL")
  directUrl = env("DIRECT_URL")
}

model Organization {
  id            String         @id @default(cuid())
  name          String
  slug          String         @unique
  createdAt     DateTime       @default(now())
  updatedAt     DateTime       @updatedAt
  campaigns     Campaign[]
  contacts      Contact[]
  facebookPages FacebookPage[]
  pipelines     Pipeline[]
  tags          Tag[]
  teams         Team[]
  templates     Template[]
  users         User[]
}

model User {
  id                    String                  @id
  email                 String                  @unique
  password              String?
  name                  String?
  image                 String?
  role                  Role                    @default(AGENT)
  organizationId        String
  createdAt             DateTime                @default(now())
  updatedAt             DateTime                @updatedAt
  activeTeamId          String?
  AIAutomationExecution AIAutomationExecution[]
  AIAutomationRule      AIAutomationRule[]
  campaigns             Campaign[]
  activities            ContactActivity[]
  conversations         Conversation[]
  ownedTeams            Team[]                  @relation("TeamOwner")
  broadcasts            TeamBroadcast[]
  createdInvites        TeamInvite[]
  reviewedRequests      TeamJoinRequest[]       @relation("ReviewedRequests")
  joinRequests          TeamJoinRequest[]
  teamMemberships       TeamMember[]
  organization          Organization            @relation(fields: [organizationId], references: [id], onDelete: Cascade)
}

model FacebookPage {
  id                 String                 @id @default(cuid())
  organizationId     String
  pageId             String                 @unique
  pageName           String
  pageAccessToken    String
  instagramAccountId String?                @unique
  instagramUsername  String?
  autoSync           Boolean                @default(true)
  syncInterval       Int                    @default(3600)
  lastSyncedAt       DateTime?
  isActive           Boolean                @default(true)
  createdAt          DateTime               @default(now())
  updatedAt          DateTime               @updatedAt
  autoPipelineId     String?
  autoPipelineMode   AutoPipelineMode       @default(SKIP_EXISTING)
  AIAutomationRule   AIAutomationRule[]
  campaigns          Campaign[]
  contacts           Contact[]
  conversations      Conversation[]
  autoPipeline       Pipeline?              @relation(fields: [autoPipelineId], references: [id])
  organization       Organization           @relation(fields: [organizationId], references: [id], onDelete: Cascade)
  syncJobs           SyncJob[]
  teamPermissions    TeamMemberPermission[]
}

model Contact {
  id                    String                  @id @default(cuid())
  messengerPSID         String?
  instagramSID          String?
  firstName             String
  lastName              String?
  profilePicUrl         String?
  locale                String?
  timezone              Int?
  hasMessenger          Boolean                 @default(false)
  hasInstagram          Boolean                 @default(false)
  organizationId        String
  facebookPageId        String
  pipelineId            String?
  stageId               String?
  stageEnteredAt        DateTime?
  leadScore             Int                     @default(0)
  leadStatus            LeadStatus              @default(NEW)
  tags                  String[]
  notes                 String?
  aiContext             String?
  aiContextUpdatedAt    DateTime?
  lastInteraction       DateTime?
  createdAt             DateTime                @default(now())
  updatedAt             DateTime                @updatedAt
  AIAutomationExecution AIAutomationExecution[]
  AIAutomationStop      AIAutomationStop[]
  facebookPage          FacebookPage            @relation(fields: [facebookPageId], references: [id], onDelete: Cascade)
  organization          Organization            @relation(fields: [organizationId], references: [id], onDelete: Cascade)
  pipeline              Pipeline?               @relation(fields: [pipelineId], references: [id])
  stage                 PipelineStage?          @relation(fields: [stageId], references: [id])
  activities            ContactActivity[]
  conversations         Conversation[]
  messages              Message[]
  groups                ContactGroup[]          @relation("ContactToContactGroup")

  @@unique([messengerPSID, facebookPageId])
  @@index([instagramSID])
  @@index([pipelineId, stageId])
  @@index([leadStatus])
  @@index([organizationId])
}

model Tag {
  id             String       @id @default(cuid())
  name           String
  description    String?
  color          String       @default("#64748b")
  organizationId String
  contactCount   Int          @default(0)
  createdAt      DateTime     @default(now())
  updatedAt      DateTime     @updatedAt
  organization   Organization @relation(fields: [organizationId], references: [id], onDelete: Cascade)

  @@unique([organizationId, name])
  @@index([organizationId])
}

model ContactGroup {
  id          String     @id @default(cuid())
  name        String
  description String?
  color       String?
  createdAt   DateTime   @default(now())
  updatedAt   DateTime   @updatedAt
  campaigns   Campaign[] @relation("CampaignToContactGroup")
  contacts    Contact[]  @relation("ContactToContactGroup")
}

model Pipeline {
  id             String               @id @default(cuid())
  name           String
  description    String?
  color          String               @default("#3b82f6")
  icon           String?
  isDefault      Boolean              @default(false)
  isArchived     Boolean              @default(false)
  organizationId String
  createdAt      DateTime             @default(now())
  updatedAt      DateTime             @updatedAt
  contacts       Contact[]
  facebookPages  FacebookPage[]
  organization   Organization         @relation(fields: [organizationId], references: [id], onDelete: Cascade)
  automations    PipelineAutomation[]
  stages         PipelineStage[]

  @@index([organizationId, isArchived])
}

model PipelineStage {
  id             String            @id @default(cuid())
  name           String
  description    String?
  color          String            @default("#64748b")
  order          Int
  type           StageType         @default(IN_PROGRESS)
  leadScoreMin   Int               @default(0)
  leadScoreMax   Int               @default(100)
  pipelineId     String
  createdAt      DateTime          @default(now())
  updatedAt      DateTime          @updatedAt
  contacts       Contact[]
  fromActivities ContactActivity[] @relation("fromStage")
  activities     ContactActivity[] @relation("toStage")
  pipeline       Pipeline          @relation(fields: [pipelineId], references: [id], onDelete: Cascade)

  @@unique([pipelineId, order])
  @@index([pipelineId])
}

model ContactActivity {
  id          String         @id @default(cuid())
  contactId   String
  type        ActivityType
  title       String
  description String?
  metadata    Json?
  fromStageId String?
  toStageId   String?
  userId      String?
  createdAt   DateTime       @default(now())
  contact     Contact        @relation(fields: [contactId], references: [id], onDelete: Cascade)
  fromStage   PipelineStage? @relation("fromStage", fields: [fromStageId], references: [id])
  toStage     PipelineStage? @relation("toStage", fields: [toStageId], references: [id])
  user        User?          @relation(fields: [userId], references: [id])

  @@index([contactId, createdAt])
  @@index([type])
}

model PipelineAutomation {
  id                String            @id @default(cuid())
  name              String
  description       String?
  isActive          Boolean           @default(true)
  pipelineId        String
  triggerType       AutomationTrigger
  triggerConditions Json
  actions           Json
  timesTriggered    Int               @default(0)
  lastTriggeredAt   DateTime?
  createdAt         DateTime          @default(now())
  updatedAt         DateTime          @updatedAt
  pipeline          Pipeline          @relation(fields: [pipelineId], references: [id], onDelete: Cascade)

  @@index([pipelineId, isActive])
}

model Campaign {
  id               String         @id @default(cuid())
  name             String
  description      String?
  status           CampaignStatus @default(DRAFT)
  platform         Platform
  messageTag       MessageTag?
  facebookPageId   String
  scheduledAt      DateTime?
  startedAt        DateTime?
  completedAt      DateTime?
  organizationId   String
  createdById      String
  templateId       String?
  targetingType    TargetingType  @default(CONTACT_GROUPS)
  targetContactIds String[]
  targetTags       String[]
  targetStageIds   String[]
  targetFilters    Json?
  rateLimit        Int            @default(3600)
  totalRecipients  Int            @default(0)
  sentCount        Int            @default(0)
  deliveredCount   Int            @default(0)
  readCount        Int            @default(0)
  failedCount      Int            @default(0)
  repliedCount     Int            @default(0)
  
  // Scheduled Messages Feature
  autoFetchEnabled      Boolean  @default(false)
  includeTags           String[]
  excludeTags           String[]
  lastFetchAt           DateTime?
  fetchCount            Int      @default(0)
  
  // AI Personalization Feature
  useAiPersonalization  Boolean  @default(false)
  aiCustomInstructions  String?
  aiMessagesMap         Json?
  
  createdAt        DateTime       @default(now())
  updatedAt        DateTime       @updatedAt
  createdBy        User           @relation(fields: [createdById], references: [id])
  facebookPage     FacebookPage   @relation(fields: [facebookPageId], references: [id], onDelete: Cascade)
  organization     Organization   @relation(fields: [organizationId], references: [id], onDelete: Cascade)
  template         Template?      @relation(fields: [templateId], references: [id])
  messages         Message[]
  groups           ContactGroup[] @relation("CampaignToContactGroup")

  @@index([status, platform])
  @@index([organizationId])
  @@index([scheduledAt]) 
  @@index([status, scheduledAt])
}

model Template {
  id             String       @id @default(cuid())
  name           String
  content        String
  variables      String[]
  platform       Platform
  category       String?
  recommendedTag MessageTag?
  organizationId String
  usageCount     Int          @default(0)
  createdAt      DateTime     @default(now())
  updatedAt      DateTime     @updatedAt
  campaigns      Campaign[]
  organization   Organization @relation(fields: [organizationId], references: [id], onDelete: Cascade)
}

model Conversation {
  id                    String                  @id @default(cuid())
  contactId             String
  facebookPageId        String
  platform              Platform
  status                ConversationStatus      @default(OPEN)
  lastMessageAt         DateTime
  assignedToId          String?
  createdAt             DateTime                @default(now())
  updatedAt             DateTime                @updatedAt
  AIAutomationExecution AIAutomationExecution[]
  assignedTo            User?                   @relation(fields: [assignedToId], references: [id])
  contact               Contact                 @relation(fields: [contactId], references: [id], onDelete: Cascade)
  facebookPage          FacebookPage            @relation(fields: [facebookPageId], references: [id], onDelete: Cascade)
  messages              Message[]

  @@index([status, platform])
  @@index([lastMessageAt])
}

model Message {
  id                String        @id @default(cuid())
  content           String
  platform          Platform
  status            MessageStatus @default(PENDING)
  messageTag        MessageTag?
  facebookMessageId String?
  contactId         String
  conversationId    String?
  campaignId        String?
  isFromBusiness    Boolean       @default(true)
  sentAt            DateTime?
  deliveredAt       DateTime?
  readAt            DateTime?
  failedAt          DateTime?
  errorMessage      String?
  createdAt         DateTime      @default(now())
  campaign          Campaign?     @relation(fields: [campaignId], references: [id])
  contact           Contact       @relation(fields: [contactId], references: [id], onDelete: Cascade)
  conversation      Conversation? @relation(fields: [conversationId], references: [id], onDelete: Cascade)

  @@index([campaignId, status])
  @@index([conversationId, createdAt])
}

model WebhookEvent {
  id        String   @id @default(cuid())
  platform  Platform
  eventType String
  payload   Json
  processed Boolean  @default(false)
  createdAt DateTime @default(now())

  @@index([processed, createdAt])
}

model SyncJob {
  id             String        @id @default(cuid())
  facebookPageId String
  status         SyncJobStatus @default(PENDING)
  totalContacts  Int           @default(0)
  syncedContacts Int           @default(0)
  failedContacts Int           @default(0)
  errors         Json?
  tokenExpired   Boolean       @default(false)
  startedAt      DateTime?
  completedAt    DateTime?
  createdAt      DateTime      @default(now())
  updatedAt      DateTime      @updatedAt
  facebookPage   FacebookPage  @relation(fields: [facebookPageId], references: [id], onDelete: Cascade)

  @@index([facebookPageId, status])
  @@index([status, createdAt])
}

model Team {
  id                     String          @id @default(cuid())
  name                   String
  description            String?
  avatar                 String?
  status                 TeamStatus      @default(ACTIVE)
  joinCode               String          @unique
  joinCodeExpiresAt      DateTime
  organizationId         String
  ownerId                String
  settings               Json?
  welcomeMessageEnabled  Boolean         @default(true)
  welcomeMessageTemplate String?
  createdAt              DateTime        @default(now())
  updatedAt              DateTime        @updatedAt
  archivedAt             DateTime?
  organization           Organization    @relation(fields: [organizationId], references: [id], onDelete: Cascade)
  owner                  User            @relation("TeamOwner", fields: [ownerId], references: [id])
  activities             TeamActivity[]
  broadcasts             TeamBroadcast[]
  invites                TeamInvite[]
  members                TeamMember[]
  messages               TeamMessage[]
  tasks                  TeamTask[]
  threads                TeamThread[]

  @@index([organizationId])
  @@index([status])
  @@index([joinCode])
}

model TeamMember {
  id                   String                 @id @default(cuid())
  userId               String
  teamId               String
  role                 TeamRole               @default(MEMBER)
  status               TeamMemberStatus       @default(PENDING)
  lastActiveAt         DateTime?
  totalTimeSpent       Int                    @default(0)
  lastLoginAt          DateTime?
  displayName          String?
  bio                  String?
  joinedAt             DateTime               @default(now())
  suspendedAt          DateTime?
  suspendedUntil       DateTime?
  suspendedReason      String?
  avatar               String?
  emailNotifications   Boolean                @default(true)
  notificationsEnabled Boolean                @default(true)
  taskNotifications    Boolean                @default(true)
  title                String?
  activities           TeamActivity[]
  team                 Team                   @relation(fields: [teamId], references: [id], onDelete: Cascade)
  user                 User                   @relation(fields: [userId], references: [id], onDelete: Cascade)
  permissions          TeamMemberPermission[]
  sentMessages         TeamMessage[]
  TeamNotification     TeamNotification[]
  assignedTasks        TeamTask[]             @relation("AssignedTasks")
  createdTasks         TeamTask[]             @relation("CreatedTasks")

  @@unique([userId, teamId])
  @@index([teamId, status])
  @@index([userId])
}

model TeamMemberPermission {
  id                   String        @id @default(cuid())
  memberId             String
  facebookPageId       String?
  canViewContacts      Boolean       @default(true)
  canEditContacts      Boolean       @default(false)
  canDeleteContacts    Boolean       @default(false)
  canViewCampaigns     Boolean       @default(true)
  canCreateCampaigns   Boolean       @default(false)
  canEditCampaigns     Boolean       @default(false)
  canDeleteCampaigns   Boolean       @default(false)
  canSendCampaigns     Boolean       @default(false)
  canViewConversations Boolean       @default(true)
  canSendMessages      Boolean       @default(false)
  canViewPipelines     Boolean       @default(true)
  canEditPipelines     Boolean       @default(false)
  canViewTemplates     Boolean       @default(true)
  canEditTemplates     Boolean       @default(false)
  canViewAnalytics     Boolean       @default(true)
  canExportData        Boolean       @default(false)
  canManageTeam        Boolean       @default(false)
  customPermissions    Json?
  createdAt            DateTime      @default(now())
  updatedAt            DateTime      @updatedAt
  facebookPage         FacebookPage? @relation(fields: [facebookPageId], references: [id], onDelete: Cascade)
  member               TeamMember    @relation(fields: [memberId], references: [id], onDelete: Cascade)

  @@unique([memberId, facebookPageId])
  @@index([memberId])
}

model TeamInvite {
  id          String            @id @default(cuid())
  teamId      String
  code        String            @unique
  type        InviteType        @default(CODE)
  inviteLink  String?           @unique
  expiresAt   DateTime?
  maxUses     Int?              @default(1)
  usedCount   Int               @default(0)
  createdById String
  status      InviteStatus      @default(ACTIVE)
  createdAt   DateTime          @default(now())
  updatedAt   DateTime          @updatedAt
  createdBy   User              @relation(fields: [createdById], references: [id])
  team        Team              @relation(fields: [teamId], references: [id], onDelete: Cascade)
  requests    TeamJoinRequest[]

  @@index([teamId, status])
  @@index([code])
  @@index([expiresAt])
}

model TeamJoinRequest {
  id           String            @id @default(cuid())
  userId       String
  inviteId     String
  status       JoinRequestStatus @default(PENDING)
  message      String?
  reviewedById String?
  reviewedAt   DateTime?
  reviewNotes  String?
  createdAt    DateTime          @default(now())
  invite       TeamInvite        @relation(fields: [inviteId], references: [id], onDelete: Cascade)
  reviewedBy   User?             @relation("ReviewedRequests", fields: [reviewedById], references: [id])
  user         User              @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@index([userId])
  @@index([inviteId, status])
}

model TeamActivity {
  id         String           @id @default(cuid())
  teamId     String
  memberId   String?
  type       TeamActivityType
  action     String
  entityType String?
  entityId   String?
  entityName String?
  metadata   Json?
  ipAddress  String?
  userAgent  String?
  duration   Int?
  createdAt  DateTime         @default(now())
  member     TeamMember?      @relation(fields: [memberId], references: [id])
  team       Team             @relation(fields: [teamId], references: [id], onDelete: Cascade)

  @@index([teamId, createdAt])
  @@index([memberId, createdAt])
  @@index([type, createdAt])
  @@index([entityType, entityId])
}

model TeamTask {
  id                String       @id @default(cuid())
  teamId            String
  title             String
  description       String?
  priority          TaskPriority @default(MEDIUM)
  status            TaskStatus   @default(TODO)
  assignedToId      String?
  createdById       String
  relatedEntityType String?
  relatedEntityId   String?
  dueDate           DateTime?
  completedAt       DateTime?
  tags              String[]
  attachments       Json?
  createdAt         DateTime     @default(now())
  updatedAt         DateTime     @updatedAt
  assignedTo        TeamMember?  @relation("AssignedTasks", fields: [assignedToId], references: [id])
  createdBy         TeamMember   @relation("CreatedTasks", fields: [createdById], references: [id])
  team              Team         @relation(fields: [teamId], references: [id], onDelete: Cascade)

  @@index([teamId, status])
  @@index([assignedToId, status])
  @@index([dueDate])
}

model TeamThread {
  id             String        @id @default(cuid())
  teamId         String
  title          String?
  type           ThreadType    @default(DISCUSSION)
  participantIds String[]
  isPinned       Boolean       @default(false)
  pinnedAt       DateTime?
  pinnedById     String?
  lastMessageAt  DateTime?
  createdAt      DateTime      @default(now())
  updatedAt      DateTime      @updatedAt
  avatar         String?
  description    String?
  enableTopics   Boolean       @default(false)
  isChannel      Boolean       @default(false)
  createdById    String?
  isGroupChat    Boolean       @default(false)
  groupName      String?
  groupAvatar    String?
  isAdminOnly    Boolean       @default(false)
  messages       TeamMessage[]
  team           Team          @relation(fields: [teamId], references: [id], onDelete: Cascade)
  TeamTopic      TeamTopic[]

  @@index([teamId, lastMessageAt])
  @@index([type])
  @@index([isChannel])
}

model TeamMessage {
  id          String        @id @default(cuid())
  teamId      String
  threadId    String?
  senderId    String
  content     String
  mentions    String[]
  reactions   Json?
  attachments Json?
  replyToId   String?
  isEdited    Boolean       @default(false)
  editedAt    DateTime?
  isDeleted   Boolean       @default(false)
  deletedAt   DateTime?
  readBy      String[]
  createdAt   DateTime      @default(now())
  isPinned    Boolean       @default(false)
  pinnedAt    DateTime?
  pinnedById  String?
  topicId     String?
  replyTo     TeamMessage?  @relation("MessageReplies", fields: [replyToId], references: [id])
  replies     TeamMessage[] @relation("MessageReplies")
  sender      TeamMember    @relation(fields: [senderId], references: [id])
  team        Team          @relation(fields: [teamId], references: [id], onDelete: Cascade)
  thread      TeamThread?   @relation(fields: [threadId], references: [id], onDelete: Cascade)
  TeamTopic   TeamTopic?    @relation(fields: [topicId], references: [id])

  @@index([teamId, createdAt])
  @@index([threadId, createdAt])
  @@index([senderId])
  @@index([isPinned])
  @@index([topicId, createdAt])
}

model TeamBroadcast {
  id           String            @id @default(cuid())
  teamId       String
  title        String
  content      String
  priority     BroadcastPriority @default(NORMAL)
  senderId     String
  targetRole   TeamRole?
  isPinned     Boolean           @default(false)
  pinnedUntil  DateTime?
  scheduledFor DateTime?
  sentAt       DateTime?
  readBy       String[]
  attachments  Json?
  createdAt    DateTime          @default(now())
  updatedAt    DateTime          @updatedAt
  sender       User              @relation(fields: [senderId], references: [id])
  team         Team              @relation(fields: [teamId], references: [id], onDelete: Cascade)

  @@index([teamId, sentAt])
  @@index([isPinned])
}

model AIAutomationExecution {
  id                String           @id
  ruleId            String
  userId            String
  contactId         String
  conversationId    String?
  recipientPSID     String
  recipientName     String?
  aiPromptUsed      String?
  generatedMessage  String?
  aiReasoning       String?
  previousMessages  Json?
  status            String           @default("processing")
  facebookMessageId String?
  errorMessage      String?
  followUpNumber    Int              @default(1)
  executedAt        DateTime         @default(now())
  createdAt         DateTime         @default(now())
  Contact           Contact          @relation(fields: [contactId], references: [id], onDelete: Cascade)
  Conversation      Conversation?    @relation(fields: [conversationId], references: [id], onDelete: Cascade)
  AIAutomationRule  AIAutomationRule @relation(fields: [ruleId], references: [id], onDelete: Cascade)
  User              User             @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@index([contactId, createdAt])
  @@index([ruleId, createdAt])
  @@index([status])
}

model AIAutomationRule {
  id                    String                  @id
  userId                String
  name                  String
  description           String?
  enabled               Boolean                 @default(true)
  triggerType           String                  @default("time_based")
  timeIntervalMinutes   Int?
  timeIntervalHours     Int?
  timeIntervalDays      Int?
  customPrompt          String
  languageStyle         String                  @default("taglish")
  facebookPageId        String?
  includeTags           String[]
  excludeTags           String[]
  maxMessagesPerDay     Int                     @default(100)
  activeHoursStart      Int                     @default(9)
  activeHoursEnd        Int                     @default(21)
  run24_7               Boolean                 @default(false)
  stopOnReply           Boolean                 @default(true)
  removeTagOnReply      String?
  messageTag            MessageTag?
  lastExecutedAt        DateTime?
  executionCount        Int                     @default(0)
  successCount          Int                     @default(0)
  failureCount          Int                     @default(0)
  createdAt             DateTime                @default(now())
  updatedAt             DateTime
  AIAutomationExecution AIAutomationExecution[]
  FacebookPage          FacebookPage?           @relation(fields: [facebookPageId], references: [id], onDelete: Cascade)
  User                  User                    @relation(fields: [userId], references: [id], onDelete: Cascade)
  AIAutomationStop      AIAutomationStop[]

  @@index([enabled, lastExecutedAt])
  @@index([userId, enabled])
}

model AIAutomationStop {
  id               String           @id
  ruleId           String
  contactId        String
  recipientPSID    String
  stoppedReason    String
  followUpsSent    Int              @default(0)
  tagRemoved       String?
  createdAt        DateTime         @default(now())
  Contact          Contact          @relation(fields: [contactId], references: [id], onDelete: Cascade)
  AIAutomationRule AIAutomationRule @relation(fields: [ruleId], references: [id], onDelete: Cascade)

  @@unique([ruleId, contactId])
  @@index([contactId])
}

model TeamNotification {
  id         String           @id
  memberId   String
  type       NotificationType
  title      String
  message    String
  entityType String?
  entityId   String?
  entityUrl  String?
  isRead     Boolean          @default(false)
  readAt     DateTime?
  createdAt  DateTime         @default(now())
  TeamMember TeamMember       @relation(fields: [memberId], references: [id], onDelete: Cascade)

  @@index([createdAt])
  @@index([memberId, isRead, createdAt])
}

model TeamTopic {
  id          String        @id
  threadId    String
  name        String
  description String?
  icon        String?
  color       String        @default("#64748b")
  order       Int           @default(0)
  createdAt   DateTime      @default(now())
  updatedAt   DateTime
  TeamMessage TeamMessage[]
  TeamThread  TeamThread    @relation(fields: [threadId], references: [id], onDelete: Cascade)

  @@index([threadId, order])
}

enum Role {
  ADMIN
  MANAGER
  AGENT
}

enum AutoPipelineMode {
  SKIP_EXISTING
  UPDATE_EXISTING
}

enum LeadStatus {
  NEW
  CONTACTED
  QUALIFIED
  PROPOSAL_SENT
  NEGOTIATING
  WON
  LOST
  UNRESPONSIVE
}

enum StageType {
  LEAD
  IN_PROGRESS
  WON
  LOST
  ARCHIVED
}

enum ActivityType {
  NOTE_ADDED
  STAGE_CHANGED
  STATUS_CHANGED
  TAG_ADDED
  TAG_REMOVED
  MESSAGE_SENT
  MESSAGE_RECEIVED
  CAMPAIGN_SENT
  TASK_CREATED
  TASK_COMPLETED
  CALL_MADE
  EMAIL_SENT
}

enum AutomationTrigger {
  STAGE_ENTERED
  STAGE_DURATION
  MESSAGE_RECEIVED
  NO_ACTIVITY
  TAG_ADDED
  LEAD_SCORE_REACHED
}

enum CampaignStatus {
  DRAFT
  SCHEDULED
  SENDING
  SENT
  PAUSED
  CANCELLED
  COMPLETED
}

enum TargetingType {
  CONTACT_GROUPS
  TAGS
  PIPELINE_STAGES
  SPECIFIC_CONTACTS
  ADVANCED_FILTERS
  ALL_CONTACTS
}

enum Platform {
  MESSENGER
  INSTAGRAM
}

enum MessageTag {
  CONFIRMED_EVENT_UPDATE
  POST_PURCHASE_UPDATE
  ACCOUNT_UPDATE
  HUMAN_AGENT
}

enum ConversationStatus {
  OPEN
  PENDING
  RESOLVED
  ARCHIVED
}

enum MessageStatus {
  PENDING
  QUEUED
  SENT
  DELIVERED
  READ
  FAILED
}

enum SyncJobStatus {
  PENDING
  IN_PROGRESS
  COMPLETED
  FAILED
  CANCELLED
}

enum TeamStatus {
  ACTIVE
  PENDING_APPROVAL
  SUSPENDED
  ARCHIVED
}

enum TeamRole {
  OWNER
  ADMIN
  MANAGER
  MEMBER
}

enum TeamMemberStatus {
  PENDING
  ACTIVE
  SUSPENDED
  REMOVED
}

enum InviteType {
  CODE
  LINK
  EMAIL
}

enum InviteStatus {
  ACTIVE
  EXPIRED
  REVOKED
  EXHAUSTED
}

enum JoinRequestStatus {
  PENDING
  APPROVED
  REJECTED
  CANCELLED
}

enum TeamActivityType {
  LOGIN
  LOGOUT
  VIEW_PAGE
  CREATE_ENTITY
  EDIT_ENTITY
  DELETE_ENTITY
  SEND_MESSAGE
  RECEIVE_MESSAGE
  COMPLETE_TASK
  JOIN_TEAM
  LEAVE_TEAM
  PERMISSION_CHANGED
  EXPORT_DATA
  IMPORT_DATA
  SETTINGS_CHANGED
}

enum TaskPriority {
  LOW
  MEDIUM
  HIGH
  URGENT
}

enum TaskStatus {
  TODO
  IN_PROGRESS
  IN_REVIEW
  COMPLETED
  CANCELLED
}

enum ThreadType {
  DIRECT
  GROUP
  DISCUSSION
  ANNOUNCEMENT
  CHANNEL
}

enum BroadcastPriority {
  LOW
  NORMAL
  HIGH
  URGENT
}

enum NotificationType {
  TASK_ASSIGNED
  TASK_UPDATED
  TASK_COMPLETED
  TASK_DUE_SOON
  MESSAGE_MENTION
  MESSAGE_REPLY
  BROADCAST_MESSAGE
  TEAM_INVITE
  MEMBER_JOINED
  MEMBER_LEFT
  ROLE_CHANGED
  PERMISSION_CHANGED
  TEAM_ANNOUNCEMENT
}
